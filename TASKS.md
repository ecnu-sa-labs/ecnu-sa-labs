# 《软件分析与验证前沿》实践环节任务说明
## 一、实践目标
本实践环节聚焦软件分析、测试与验证领域的相关工具，通过调研工具核心代码模块、剖析实现原理，帮助学生：
1. 深度理解课堂讲授的动态分析、静态分析、自动化测试、形式化验证等核心技术；
2. 提升技术原理拆解、源码阅读与工程化分析能力；
3. 培养从“原理理解”到“工具使用”再到“技术复盘”的系统化思维。

## 二、实践对象与分组
1. **参与对象**：全体选修《软件分析与验证前沿》课程的学生；
2. **分组要求**：2-3人/组，自愿组队；每组选定1款调研工具（工具清单见下表；如希望调研清单外工具，需提前向教师提交申请，说明工具名称、调研价值，审批通过后方可开展。

## 三、调研工具和任务清单
| 技术方向         | 调研工具   | 核心聚焦模块（调研内容）|  参考文献/资料 | 任务难度（1-5分）  |
|------------------|-------------------------|-------------------------|-------------------------|-----------------------------------------------------------------------------|
| 动态分析  | [Kea2](https://github.com/ecnusse/Kea2)   |  性质检查模块（Kea2是如何实现动态执行中检查性质的？） | [Paper1](https://tingsu.github.io/files/ASE24-Kea.pdf), [Paper2](https://tingsu.github.io/files/ISSTA23-functional-bugs.pdf) |  2~3分 | 
| 动态分析  | [AFL](https://github.com/google/AFL)| 输入变异模块（AFL的整个输入变异流程是如何实现的？包括Deterministic、Havoc、Splicing等阶段） | [Doc1](https://afl-1.readthedocs.io/en/latest/index.html), [Doc2](https://lcamtuf.blogspot.com/2014/08/binary-fuzzing-strategies-what-works.html) |  2~3分 | 
| 动态分析  | [AFL](https://github.com/google/AFL)| 覆盖率统计模块（AFL是如何统计代码覆盖率的？包含插装、覆盖率统计、基于覆盖的反馈） | [Doc1](https://afl-1.readthedocs.io/en/latest/index.html), [Paper1](https://wcventure.github.io/FuzzingPaper/Paper/SP18_ColLAFL.pdf)  |  3分 | 
| 动态分析  | [hypothesis](https://github.com/HypothesisWorks/hypothesis)| 输入约减（shrinking）模块（当hypothesis找到一个违反性质的输入后，是如何对该输入做约减的？ | [Paper1](https://www.cs.columbia.edu/~junfeng/08fa-e6998/sched/readings/delta-debug-input.pdf) |  3分 | 
| 静态分析  | [cppcheck](https://github.com/danmar/cppcheck) | Uninitialized Variable检测模块（cppcheck是如何检测未初始化变量的？）  | 官方仓库上提供了相关手册和资料 |  3~4分 |                    

## 四、实践任务与核心要求
### （一）核心任务
每组围绕选定工具，完成“核心代码模块定位→原理拆解→调试验证→技术复盘”四个环节，最终形成技术报告。

### （二）具体要求（分模块细化）
#### 模块1：工具与核心模块基础梳理（占比20%）
1. 工具基础信息：包括工具起源（学术/工业界开发、核心贡献团队）、发展历程、当前版本迭代情况、开源协议（是否商用/免费）、支持的编程语言与运行环境；
2. 核心模块定位：基于教师标注的“核心聚焦模块”，明确模块在工具源码目录中的位置（如Kea2的性质定义和性质检查模块位于`kea2/keaUtils.py`文件中）、核心入口函数/类（如`kea2/keaUtils.py`文件中的`KeaTestRunner`类）、关键数据结构等；
3. 模块功能关联：说明该核心模块对应本课程讲授的哪类核心技术（如Kea2的核心技术对应本课程中“基于性质测试”）。

#### 模块2：核心代码模块原理分析（占比40%）
1. 技术原理复盘：结合课程知识点，解释核心模块的实现原理——
   - 例：Kea2中的性质检查模块，我们可以按照以下思路理解核心模块的实现原理：
   - *这个模块实现的目标是什么？要解决什么问题？* 比如，Kea2中的性质检查模块的目的是在动态执行APP过程中实现性质的检查。
   - *这个模块的输入输出是什么？* 比如，Kea2中的性质检查模块的输入应该是用户定义的性质，输出应该是性质检查结果。
   - *这个模块的基本流程是怎么样的？代码架构是怎么样的？* 比如，Kea2中的性质检查模块的基本流程是：(a) Kea2获取用户定义的性质为输入，(b) 当前置条件满足时，Kea2在动态执行过程中会暂停，将控制权转交，进行性质检查，(c) Kea2在做性质检查时，会根据用户定义的 “前置条件-后置条件(assertions)”进行性质检查，并记录下性质检查结果，作为输出。
2. 源码阅读与逻辑拆解：聚焦核心模块，梳理“输入→处理→输出”的完整逻辑，绘制模块执行流程图（需标注关键函数调用关系、数据流转路径）；
3. 前沿技术关联：简要分析该模块是否采用了其他一些前沿技术，无需深入前沿改进，只需识别关联点。

#### 模块3：调试验证与效果复现（占比25%）
1. 环境搭建：自行阅读工具文档，编译、构建和运行工具；
2. 调试验证：针对核心模块，可选择（1）通过设置断点调试、或（2）使用打印关键日志的方式调试，跟踪1个简单案例的执行流程（案例要求如下）：
   - 案例选择：自选1个贴合模块功能的极简案例（如在使用Kea2时，针对一个app，手写一个很简单的性质脚本文件）。这里的”极简案例“可以是学生根据自己理解，通过查阅资料等手段，能佐证自己对工具模块理解的简单案例；
   - 调试要求：记录断点位置、打印关键日志、观察关键变量值变化、核心函数调用栈，验证模块逻辑与自己的拆解结论是否一致；
   - 例：AFL中的输入变异模块例，我们可以按照以下思路去做调试和观察。
   - 通过追踪一些关键的变量或者数据结构，观察当前处于哪个变异阶段(Deterministic, Havoc, Splicing)？当前被变异的种子内容是什么？用的是哪个变异算子（算子的具体作用）？变异前后的种子的内容发生了什么变化？变异后对产生了何种影响，覆盖了新的代码分支了吗？
   - 结果记录：以“步骤+截图+文字说明”的形式，记录调试过程与结果；
3. 效果复现（*可选*）：修改核心模块的1处小逻辑，编译后运行案例，对比修改前后的输出结果，说明修改逻辑与效果变化。

#### 模块4：优缺点与技术落地反思（占比15%）
1. 核心模块优缺点分析：结合源码阅读与调试体验，分析模块设计的优点（如效率、可扩展性、易用性）与局限性（如性能开销、适用场景单一、误报率高低等）；
2. 技术落地反思（*可选*）：
   - 该模块的设计思路，对同类软件分析/验证工具的开发有何借鉴意义？
   - 该模块在工程实现上有哪些可优化的方向（无需落地，仅需提出思路）？

## 五、技术报告要求
### （一）报告结构
1. 封面：标题（“XX工具核心代码模块分析报告”）、组员及分工、完成日期；
2. 目录：自动生成，包含二级标题；
3. 正文：
   - 1 工具与核心模块基础梳理（≤1页）；
   - 2 核心代码模块原理分析（2-3页，含流程图）；
   - 3 调试验证与效果复现（1-2页，含截图+案例代码，可通过git仓库提供案例代码）；
   - 4 优缺点与技术落地反思（≤1页）；
   - 5 参考文献（如论文、工具文档、博客等）；
4. 附录（*可选*）：核心模块关键代码片段（标注行号与注释）、调试命令记录。

### （二）格式与字数要求
1. 格式：Word/PDF格式均可，页面设置为A4，正文宋体小四，1.5倍行距，图表清晰标注编号（如“图1 XX模块执行流程图”）；
2. 字数：正文总字数1800-2500字（不含代码、截图、参考文献），避免冗余堆砌，聚焦“原理分析”与“调试验证”核心。

### （三）提交要求
1. 提交文件：技术报告（命名格式：“工具名称-组员-报告.pdf/docx”）+ 调试案例代码（提供git仓库链接即可）+ 小组分工说明（100字内，说明每位组员在“源码阅读、调试、报告撰写”中的具体贡献）；
2. 提交截止时间：2026年1月8号晚上12点前（发送至教师邮箱：tsu@sei.ecnu.edu.cn）

## 六、时间安排（大致3-4周）

## 七、技术报告评分标准（总分100分，计入课程总成绩）
| 评分维度               | 分值 | 评分要点                                                                 |
|------------------------|------|--------------------------------------------------------------------------|
| 基础信息与模块定位     | 10分 | 工具基础信息准确，核心模块定位精准，能区分核心模块与辅助模块               |
| 原理分析与流程图       | 30分 | 核心模块逻辑拆解清晰，流程图准确反映执行路径；原理分析贴合课程知识点，无概念错误 |
| 调试验证与效果复现     | 30分 | 工具调试环境搭建成功；案例可复现；截图/代码规范 |
| 优缺点与技术落地反思   | 15分 | 优缺点分析不泛泛而谈，结合源码/调试体验；技术反思有独立思考 |
| 报告规范性与协作性     | 15分 | 报告格式符合要求，参考文献规范；分工明确，无“搭便车”情况（结合分工说明与报告内容判定） |

补充说明：

（1）根据调研任务的难度，我们会额外加分（大家根据自己小组的情况和调研能力，酌情选择调研任务）：

| 任务难度               | 额外加分 | 
|------------------------|------|
| 2~3分  | 无 |
| 3分  | 5分 |
| 3~4分 | 10分 |

（2）报告中若额外完成了（部分）可选内容或有创新性思考（如对工具核心模块的改进思路、与前沿技术的结合设想），可额外获得5-10分的加分。

（3）本实践环节注重“原理理解”而非“源码精通”，不要求读懂工具全量代码，只需聚焦核心模块完成拆解与验证；

## 八、现场汇报和现金奖励

在期末最后一周的上课时间，按小组现场汇报，汇报采取自愿报名的形式。对于现场汇报、技术报告完成质量优秀的小组（会从不同的调研任务类别中择优选择），给予现金奖励（暂定600元/组，具体奖励金额、组数将根据预算最终确定，希望能让获奖小组吃一顿好的自助餐：）。

## 九、技术支持
1. **支撑**：
   - 可使用AI辅助工具帮助分析，如DeepWiki
2. **禁止**：严禁直接抄袭网络博客/工具文档的分析内容，报告中引用的内容需标注来源；案例代码需为小组自行实现或基于官方文档简化，严禁直接复制粘贴无注释的代码。


